# AWS 람다
- 이미지 리사이징(사용자가 20MB 이미지 올릴 때)
- **유튜브**
- 사용자가 썸네일 이미지 올리면 서버가 알아서 이미지 최소 화질로 압축해서 다시 썸네일 만들어줌
- [이유] : 데이터 비용이 용량이 클수록 많이 나옴 => 그래서 동영상 압축, 이미지 압축에 관심이 많음(압축 알고리즘<구글이 많음>)

# 구조
1. LightSail -(original 폴더에 이미지 업로드)-> S3
2. S3 -(람다 함수 실행<람다 트리거>)-> 람다
3. 람다 -(리사이징된 이미지를 S3에 저장)-> S3

# 사용
- aws-upload 폴더 내 파일들 확인

# 순서
1. 함수 작성 -> 함수를 git에 올림
2. 람다는 리눅스임 윈도우에서 불가함 => lightSail에서 git clone
3. 함수를 .zip파일로 압축 -> s3에 업로드
4. AWS 람다에서 함수 생성 -> .zip파일 연결
5. 트리거 s3 추가
6. 이미지 업로드하고, 이미지 보내는 부분 코드 수정
- controller 코드 수정(원본 주소, 리사이징 파일 주소 모두 프론트에 보내줌)
- main.html 코드 수정(사진업로드 시 미리보기는 원본, 글 올린 후에는 리사이징 된거)
**원본, 리사이징 주소 둘다 보내주는 이유**
- 파일이 리사이징 되기까지 시간이 오래 걸림 그래서 그 때까진 원본파일이라도 보여줄 수 있도록 하기 위함
